<!doctype html>
<html lang="en" class="h-100">

<head>
  <title>ReflectaWord: A Coding Project By Joy Dutta</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Berkshire+Swash&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>

  <!-- Favicon  -->
  <link rel="icon" href="/img/favicon-32x32.png" type="image/png">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/site.css">
  <link rel="stylesheet" href="./css/prism.css">
</head>

<body class="d-flex flex-column h-100">

  <!-- ==== Nav Section ==== -->
  <nav class="navbar navbar-expand-md navbar-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand logoFont" href="#"><img src="./img/White logo - no background.svg" alt="Brand logo color background"
          width="30" height="24" class="d-inline-block align-text-top mx-2">ReflectaWord</img></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
        aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link" href="./index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./app.html">The App</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="./code.html">The Code</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" target="_blank">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" target="_blank">Git Repo</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ==== Main Section ==== -->
  <main class="flex-shrink-0">
    <div class="container py-5 px-5 mt-5">
      <h2 class="border-1 border-bottom border-dark">The Code for ReflectaWord.</h2>
      <div class="row row-cols-1 row-cols-md-2">
        <div class="col-lg-8">
          <pre class="line-number">
            <code class="language-javascript">
function getValue() {


  // make sure the alert is turned off
  document.getElementById("alert").classList.add("invisible");

  // get userString from the page
  let userString = document.getElementById("userText").value;

  // check for a palindrome
  let returnedObj = checkForPalindrome(userString);
  
  // display the message to the screen
  displayMessage(returnedObj);
}


// check if the string is a palindrome
function checkForPalindrome(text) {

  // Taco Cat 
  // taC ocaT
  //Taco, Cat
  
  // change the user Text to lowercase
  text = text.toLowerCase().trim();

  // remove spaces and special characters
  let regex = /[^a-z0-9]/gi;
  text = text.replace(regex, "");
    
  let revString = [];
  let returnObj = {};
  for (let index = text.length - 1; index >= 0; index--) {
    revString += text[index];
  }

  
  if(revString === text) {
    returnObj.msg = "Well Done! You have entered a Palindrome";
  } else {
    returnObj.msg = "Sorry! You did not enter a Palindrome";
  }
  returnObj.reversed = revString;

  return returnObj;
}


// display the numbers and mark the even numbers in bold
// 3. display or View function


// display a message to the user
function displayMessage(data) {
  
  document.getElementById("alertHeader").innerHTML = data.msg;
  document.getElementById("msg").innerHTML = `Your phrase reversed is ${data.reversed}`;

  // make the alert visible to the user
  document.getElementById("alert").classList.remove("invisible");
}
              
            </code>
          </pre>
        </div>
        <div class="col-lg-4">
          <p class="text-info"> getValue( ) function. Firstly, the alert is hidden by adding the "invisible" class</p>
          <p>Then The user input is taken from the DOM</p>
          <p>Using the text, <strong>checkForPalindrome( )</strong> function is called. In this function, the text is changed to lowercase, and cleaned up by removing all the characters except a-z, A-Z and all numbers(from 0-9). After that we create a reversed string by loop through the original text from the opposite direct(looping from the last element until the index is 0). Once we have the reversedString and the original string we store couple of message to an object depending on whether the text entered is a palindrome.</p>
          <p>Then we make a call to the <em><strong>displayMessage( ) function</strong></em> to display the messages to the user by inserting the messages to the DOM and making the alert visible </p>
          
        </div>
      </div>
    </div>
  </main>

  <!-- ==== Footer Section ==== -->
  <footer class="footer mt-auto py-3 bg-dark">
    <div class="container-fluid">
      <div class="row row-cols-1 row-cols-lg-3 gy-2">
        <div class="col text-light order-last order-lg-first">
          <div>
            <span class="text-muted">&copy;2023</span>Joy Dutta | dutta_joy@hotmail.com
          </div>
        </div>
        <div class="col d-flex justify-content-start justify-content-lg-center">
          <img src="./img/White logo - no background.svg" alt="" height="35">
        </div>
        <div class="col d-flex justify-content-start justify-content-lg-end algin-items-center">
          <div class="row">
            <div class="col social">
              <a href="#" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a>
            </div>
            <div class="col social">
              <a href="#" target="_blank"><i class="fab fa-github fa-2x"></i></a>
            </div>
            <div class="col social">
              <a href="#" target="_blank"><i class="fab fa-twitter fa-2x"></i></a>
            </div>
            <div class="col social">
              <a href="#" target="_blank"><i class="fab fa-youtube fa-2x"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
  </script>

  <script src="./js/prism.js"></script>
  <script>
    Prism.plugins.NormalizeWhitespace.setDefaults({
      'remove-trailing': true,
      'remove-indent': true,
      'left-trim': true,
      'right-trim': true
    })
  </script>
</body>

</html>